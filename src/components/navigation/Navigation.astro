---
// Navigation.astro - Fixed responsive layout
export interface Props {
  currentPath?: string;
}

const { currentPath = '/' } = Astro.props;
---

<!-- Fixed responsive navigation -->
<nav
  style="background: red; color: white; padding: 1rem; position: fixed; top: 0; left: 0; width: 100%; z-index: 1000; box-sizing: border-box;"
>
  <div
    style="display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto;"
  >
    <div>
      <a
        href="/"
        style="color: white; text-decoration: none; font-size: 1.5rem; font-weight: bold;"
      >
        Chris
      </a>
    </div>

    <!-- Desktop navigation -->
    <div style="display: flex; gap: 2rem;" class="desktop-nav">
      <a href="/" style="color: white; text-decoration: none;">I Am</a>
      <a href="/services" style="color: white; text-decoration: none;">I Can</a>
      <a href="/portfolio" style="color: white; text-decoration: none;">I Did</a
      >
      <a href="/contact" style="color: white; text-decoration: none;"
        >Let's Talk</a
      >
    </div>

    <!-- Buttons container -->
    <div style="display: flex; gap: 0.5rem; align-items: center;">
      <button
        id="theme-toggle"
        style="background: blue; color: white; border: none; padding: 0.5rem 1rem; cursor: pointer; border-radius: 4px; font-size: 0.875rem;"
      >
        Light
      </button>
      <button
        id="mobile-menu-toggle"
        style="background: green; color: white; border: none; padding: 0.5rem 1rem; cursor: pointer; border-radius: 4px; font-size: 0.875rem;"
        class="mobile-only"
      >
        Menu
      </button>
    </div>
  </div>

  <!-- Mobile menu -->
  <div
    id="mobile-menu"
    style="display: none; background: yellow; color: black; padding: 1rem; margin-top: 1rem; border-radius: 4px;"
  >
    <a
      href="/"
      style="display: block; color: black; text-decoration: none; padding: 0.5rem 0; border-bottom: 1px solid #ccc;"
      >I Am</a
    >
    <a
      href="/services"
      style="display: block; color: black; text-decoration: none; padding: 0.5rem 0; border-bottom: 1px solid #ccc;"
      >I Can</a
    >
    <a
      href="/portfolio"
      style="display: block; color: black; text-decoration: none; padding: 0.5rem 0; border-bottom: 1px solid #ccc;"
      >I Did</a
    >
    <a
      href="/contact"
      style="display: block; color: black; text-decoration: none; padding: 0.5rem 0;"
      >Let's Talk</a
    >
  </div>
</nav>

<style>
  /* Responsive styles */
  @media (max-width: 768px) {
    .desktop-nav {
      display: none !important;
    }
    .mobile-only {
      display: block !important;
    }
  }

  @media (min-width: 769px) {
    .mobile-only {
      display: none !important;
    }
  }
</style>

<script>
  // Theme toggle with proper text updates
  const themeToggle = document.getElementById('theme-toggle');
  const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');

  let currentTheme = 'light';

  themeToggle?.addEventListener('click', () => {
    if (currentTheme === 'light') {
      currentTheme = 'dark';
      document.documentElement.setAttribute('data-theme', 'dark');
      themeToggle.textContent = 'Dark';
    } else if (currentTheme === 'dark') {
      currentTheme = 'punk';
      document.documentElement.setAttribute('data-theme', 'punk');
      themeToggle.textContent = 'Punk';
    } else {
      currentTheme = 'light';
      document.documentElement.removeAttribute('data-theme');
      themeToggle.textContent = 'Light';
    }
  });

  mobileMenuToggle?.addEventListener('click', () => {
    if (mobileMenu) {
      mobileMenu.style.display =
        mobileMenu.style.display === 'none' ? 'block' : 'none';
    }
  });
</script>
